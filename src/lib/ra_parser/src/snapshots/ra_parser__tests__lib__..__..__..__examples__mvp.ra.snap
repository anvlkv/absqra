---
source: src/lib/ra_parser/src/tests.rs
expression: block_tree
---
Block {
    kind: Program,
    children: [
        Block {
            kind: Output(
                OutputExpression(
                    Identifier(
                        Token {
                            kind: Some(
                                Identifier(
                                    "parseBlocks",
                                ),
                            ),
                            len: 11,
                            content: "parseBlocks",
                            position: (
                                [3:0],
                                [3:11],
                            ),
                            level: 0,
                        },
                    ),
                    None,
                    None,
                ),
            ),
            children: [
                Block {
                    kind: Input(
                        false,
                        None,
                    ),
                    children: [
                        Block {
                            kind: Invocation(
                                Some(
                                    Token {
                                        kind: Some(
                                            Identifier(
                                                "choice",
                                            ),
                                        ),
                                        len: 6,
                                        content: "choice",
                                        position: (
                                            [5:9],
                                            [5:15],
                                        ),
                                        level: 2,
                                    },
                                ),
                                Some(
                                    InputExpression(
                                        Some(
                                            Named(
                                                Token {
                                                    kind: Some(
                                                        Identifier(
                                                            "multiple",
                                                        ),
                                                    ),
                                                    len: 8,
                                                    content: "multiple",
                                                    position: (
                                                        [5:16],
                                                        [5:24],
                                                    ),
                                                    level: 2,
                                                },
                                            ),
                                        ),
                                        None,
                                        None,
                                    ),
                                ),
                            ),
                            children: [],
                            first_token: Token {
                                kind: Some(
                                    Exclamation,
                                ),
                                len: 1,
                                content: "!",
                                position: (
                                    [5:8],
                                    [5:9],
                                ),
                                level: 2,
                            },
                        },
                        Block {
                            kind: Invocation(
                                Some(
                                    Token {
                                        kind: Some(
                                            Identifier(
                                                "options",
                                            ),
                                        ),
                                        len: 7,
                                        content: "options",
                                        position: (
                                            [6:9],
                                            [6:16],
                                        ),
                                        level: 2,
                                    },
                                ),
                                Some(
                                    InputExpression(
                                        None,
                                        None,
                                        None,
                                    ),
                                ),
                            ),
                            children: [
                                Block {
                                    kind: Content(
                                        Content(
                                            Body(
                                                "parse blocks",
                                            ),
                                            None,
                                        ),
                                    ),
                                    children: [],
                                    first_token: Token {
                                        kind: Some(
                                            ContentBlock,
                                        ),
                                        len: 14,
                                        content: "parse blocks",
                                        position: (
                                            [7:12],
                                            [7:26],
                                        ),
                                        level: 3,
                                    },
                                },
                                Block {
                                    kind: Content(
                                        Content(
                                            Body(
                                                "and funny chars too ðŸ˜ ",
                                            ),
                                            None,
                                        ),
                                    ),
                                    children: [],
                                    first_token: Token {
                                        kind: Some(
                                            ContentBlock,
                                        ),
                                        len: 26,
                                        content: "and funny chars too ðŸ˜ ",
                                        position: (
                                            [8:12],
                                            [8:35],
                                        ),
                                        level: 3,
                                    },
                                },
                                Block {
                                    kind: Content(
                                        Content(
                                            Body(
                                                "â‚°",
                                            ),
                                            None,
                                        ),
                                    ),
                                    children: [],
                                    first_token: Token {
                                        kind: Some(
                                            ContentBlock,
                                        ),
                                        len: 5,
                                        content: "â‚°",
                                        position: (
                                            [9:12],
                                            [9:15],
                                        ),
                                        level: 3,
                                    },
                                },
                                Block {
                                    kind: Content(
                                        Content(
                                            Body(
                                                "Ï¿",
                                            ),
                                            None,
                                        ),
                                    ),
                                    children: [],
                                    first_token: Token {
                                        kind: Some(
                                            ContentBlock,
                                        ),
                                        len: 4,
                                        content: "Ï¿",
                                        position: (
                                            [10:12],
                                            [10:15],
                                        ),
                                        level: 3,
                                    },
                                },
                            ],
                            first_token: Token {
                                kind: Some(
                                    Exclamation,
                                ),
                                len: 1,
                                content: "!",
                                position: (
                                    [6:8],
                                    [6:9],
                                ),
                                level: 2,
                            },
                        },
                    ],
                    first_token: Token {
                        kind: Some(
                            Greater,
                        ),
                        len: 1,
                        content: ">",
                        position: (
                            [4:4],
                            [4:5],
                        ),
                        level: 1,
                    },
                },
            ],
            first_token: Token {
                kind: Some(
                    Identifier(
                        "parseBlocks",
                    ),
                ),
                len: 11,
                content: "parseBlocks",
                position: (
                    [3:0],
                    [3:11],
                ),
                level: 0,
            },
        },
        Block {
            kind: Output(
                OutputExpression(
                    Identifier(
                        Token {
                            kind: Some(
                                Identifier(
                                    "parseDifferentTypesOfBlocks",
                                ),
                            ),
                            len: 27,
                            content: "parseDifferentTypesOfBlocks",
                            position: (
                                [12:0],
                                [12:27],
                            ),
                            level: 0,
                        },
                    ),
                    None,
                    None,
                ),
            ),
            children: [
                Block {
                    kind: Input(
                        false,
                        None,
                    ),
                    children: [
                        Block {
                            kind: Invocation(
                                Some(
                                    Token {
                                        kind: Some(
                                            Identifier(
                                                "choice",
                                            ),
                                        ),
                                        len: 6,
                                        content: "choice",
                                        position: (
                                            [14:9],
                                            [14:15],
                                        ),
                                        level: 2,
                                    },
                                ),
                                Some(
                                    InputExpression(
                                        Some(
                                            Named(
                                                Token {
                                                    kind: Some(
                                                        Identifier(
                                                            "multiple",
                                                        ),
                                                    ),
                                                    len: 8,
                                                    content: "multiple",
                                                    position: (
                                                        [14:16],
                                                        [14:24],
                                                    ),
                                                    level: 2,
                                                },
                                            ),
                                        ),
                                        None,
                                        None,
                                    ),
                                ),
                            ),
                            children: [],
                            first_token: Token {
                                kind: Some(
                                    Exclamation,
                                ),
                                len: 1,
                                content: "!",
                                position: (
                                    [14:8],
                                    [14:9],
                                ),
                                level: 2,
                            },
                        },
                        Block {
                            kind: Invocation(
                                Some(
                                    Token {
                                        kind: Some(
                                            Identifier(
                                                "options",
                                            ),
                                        ),
                                        len: 7,
                                        content: "options",
                                        position: (
                                            [15:9],
                                            [15:16],
                                        ),
                                        level: 2,
                                    },
                                ),
                                Some(
                                    InputExpression(
                                        None,
                                        None,
                                        None,
                                    ),
                                ),
                            ),
                            children: [
                                Block {
                                    kind: Content(
                                        Content(
                                            Body(
                                                "comments",
                                            ),
                                            None,
                                        ),
                                    ),
                                    children: [],
                                    first_token: Token {
                                        kind: Some(
                                            ContentBlock,
                                        ),
                                        len: 10,
                                        content: "comments",
                                        position: (
                                            [16:12],
                                            [16:22],
                                        ),
                                        level: 3,
                                    },
                                },
                                Block {
                                    kind: Content(
                                        Content(
                                            Body(
                                                "var declaration",
                                            ),
                                            None,
                                        ),
                                    ),
                                    children: [],
                                    first_token: Token {
                                        kind: Some(
                                            ContentBlock,
                                        ),
                                        len: 17,
                                        content: "var declaration",
                                        position: (
                                            [17:12],
                                            [17:29],
                                        ),
                                        level: 3,
                                    },
                                },
                                Block {
                                    kind: Content(
                                        Content(
                                            Body(
                                                "rule declaration",
                                            ),
                                            None,
                                        ),
                                    ),
                                    children: [],
                                    first_token: Token {
                                        kind: Some(
                                            ContentBlock,
                                        ),
                                        len: 18,
                                        content: "rule declaration",
                                        position: (
                                            [18:12],
                                            [18:30],
                                        ),
                                        level: 3,
                                    },
                                },
                                Block {
                                    kind: Content(
                                        Content(
                                            Body(
                                                "applied rule",
                                            ),
                                            None,
                                        ),
                                    ),
                                    children: [],
                                    first_token: Token {
                                        kind: Some(
                                            ContentBlock,
                                        ),
                                        len: 14,
                                        content: "applied rule",
                                        position: (
                                            [19:12],
                                            [19:26],
                                        ),
                                        level: 3,
                                    },
                                },
                                Block {
                                    kind: Content(
                                        Content(
                                            Body(
                                                "input block",
                                            ),
                                            None,
                                        ),
                                    ),
                                    children: [],
                                    first_token: Token {
                                        kind: Some(
                                            ContentBlock,
                                        ),
                                        len: 13,
                                        content: "input block",
                                        position: (
                                            [20:12],
                                            [20:25],
                                        ),
                                        level: 3,
                                    },
                                },
                                Block {
                                    kind: Content(
                                        Content(
                                            Body(
                                                "context switches",
                                            ),
                                            None,
                                        ),
                                    ),
                                    children: [],
                                    first_token: Token {
                                        kind: Some(
                                            ContentBlock,
                                        ),
                                        len: 18,
                                        content: "context switches",
                                        position: (
                                            [21:12],
                                            [21:30],
                                        ),
                                        level: 3,
                                    },
                                },
                                Block {
                                    kind: Content(
                                        Content(
                                            Body(
                                                "content block",
                                            ),
                                            None,
                                        ),
                                    ),
                                    children: [],
                                    first_token: Token {
                                        kind: Some(
                                            ContentBlock,
                                        ),
                                        len: 15,
                                        content: "content block",
                                        position: (
                                            [22:12],
                                            [22:27],
                                        ),
                                        level: 3,
                                    },
                                },
                            ],
                            first_token: Token {
                                kind: Some(
                                    Exclamation,
                                ),
                                len: 1,
                                content: "!",
                                position: (
                                    [15:8],
                                    [15:9],
                                ),
                                level: 2,
                            },
                        },
                    ],
                    first_token: Token {
                        kind: Some(
                            Greater,
                        ),
                        len: 1,
                        content: ">",
                        position: (
                            [13:4],
                            [13:5],
                        ),
                        level: 1,
                    },
                },
            ],
            first_token: Token {
                kind: Some(
                    Identifier(
                        "parseDifferentTypesOfBlocks",
                    ),
                ),
                len: 27,
                content: "parseDifferentTypesOfBlocks",
                position: (
                    [12:0],
                    [12:27],
                ),
                level: 0,
            },
        },
        Block {
            kind: Output(
                OutputExpression(
                    Identifier(
                        Token {
                            kind: Some(
                                Identifier(
                                    "generateRuntime",
                                ),
                            ),
                            len: 15,
                            content: "generateRuntime",
                            position: (
                                [24:0],
                                [24:15],
                            ),
                            level: 0,
                        },
                    ),
                    None,
                    None,
                ),
            ),
            children: [
                Block {
                    kind: Input(
                        false,
                        None,
                    ),
                    children: [
                        Block {
                            kind: Invocation(
                                Some(
                                    Token {
                                        kind: Some(
                                            Identifier(
                                                "choice",
                                            ),
                                        ),
                                        len: 6,
                                        content: "choice",
                                        position: (
                                            [26:9],
                                            [26:15],
                                        ),
                                        level: 2,
                                    },
                                ),
                                Some(
                                    InputExpression(
                                        Some(
                                            Named(
                                                Token {
                                                    kind: Some(
                                                        Identifier(
                                                            "multiple",
                                                        ),
                                                    ),
                                                    len: 8,
                                                    content: "multiple",
                                                    position: (
                                                        [26:16],
                                                        [26:24],
                                                    ),
                                                    level: 2,
                                                },
                                            ),
                                        ),
                                        None,
                                        None,
                                    ),
                                ),
                            ),
                            children: [],
                            first_token: Token {
                                kind: Some(
                                    Exclamation,
                                ),
                                len: 1,
                                content: "!",
                                position: (
                                    [26:8],
                                    [26:9],
                                ),
                                level: 2,
                            },
                        },
                        Block {
                            kind: Invocation(
                                Some(
                                    Token {
                                        kind: Some(
                                            Identifier(
                                                "options",
                                            ),
                                        ),
                                        len: 7,
                                        content: "options",
                                        position: (
                                            [27:9],
                                            [27:16],
                                        ),
                                        level: 2,
                                    },
                                ),
                                Some(
                                    InputExpression(
                                        None,
                                        None,
                                        None,
                                    ),
                                ),
                            ),
                            children: [
                                Block {
                                    kind: Content(
                                        Content(
                                            Body(
                                                "render content",
                                            ),
                                            None,
                                        ),
                                    ),
                                    children: [],
                                    first_token: Token {
                                        kind: Some(
                                            ContentBlock,
                                        ),
                                        len: 16,
                                        content: "render content",
                                        position: (
                                            [28:12],
                                            [28:28],
                                        ),
                                        level: 3,
                                    },
                                },
                                Block {
                                    kind: Content(
                                        Content(
                                            Body(
                                                "render inputs",
                                            ),
                                            None,
                                        ),
                                    ),
                                    children: [],
                                    first_token: Token {
                                        kind: Some(
                                            ContentBlock,
                                        ),
                                        len: 15,
                                        content: "render inputs",
                                        position: (
                                            [29:12],
                                            [29:27],
                                        ),
                                        level: 3,
                                    },
                                },
                                Block {
                                    kind: Content(
                                        Content(
                                            Body(
                                                "group inputs as long as there no dependency on previous step",
                                            ),
                                            None,
                                        ),
                                    ),
                                    children: [],
                                    first_token: Token {
                                        kind: Some(
                                            ContentBlock,
                                        ),
                                        len: 62,
                                        content: "group inputs as long as there no dependency on previous step",
                                        position: (
                                            [30:12],
                                            [30:74],
                                        ),
                                        level: 3,
                                    },
                                },
                                Block {
                                    kind: Content(
                                        Content(
                                            Body(
                                                "execute logic",
                                            ),
                                            None,
                                        ),
                                    ),
                                    children: [],
                                    first_token: Token {
                                        kind: Some(
                                            ContentBlock,
                                        ),
                                        len: 15,
                                        content: "execute logic",
                                        position: (
                                            [31:12],
                                            [31:27],
                                        ),
                                        level: 3,
                                    },
                                },
                                Block {
                                    kind: Content(
                                        Content(
                                            Body(
                                                "apply rules",
                                            ),
                                            None,
                                        ),
                                    ),
                                    children: [],
                                    first_token: Token {
                                        kind: Some(
                                            ContentBlock,
                                        ),
                                        len: 13,
                                        content: "apply rules",
                                        position: (
                                            [32:12],
                                            [32:25],
                                        ),
                                        level: 3,
                                    },
                                },
                            ],
                            first_token: Token {
                                kind: Some(
                                    Exclamation,
                                ),
                                len: 1,
                                content: "!",
                                position: (
                                    [27:8],
                                    [27:9],
                                ),
                                level: 2,
                            },
                        },
                    ],
                    first_token: Token {
                        kind: Some(
                            Greater,
                        ),
                        len: 1,
                        content: ">",
                        position: (
                            [25:4],
                            [25:5],
                        ),
                        level: 1,
                    },
                },
            ],
            first_token: Token {
                kind: Some(
                    Identifier(
                        "generateRuntime",
                    ),
                ),
                len: 15,
                content: "generateRuntime",
                position: (
                    [24:0],
                    [24:15],
                ),
                level: 0,
            },
        },
    ],
    first_token: Token {
        kind: None,
        len: 1,
        content: "",
        position: (
            [0:0],
            [0:1],
        ),
        level: 0,
    },
}
